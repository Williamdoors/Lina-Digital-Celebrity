# Lina Digital Celebrity
Building Asia's first AI-powered digital lifeform and social media celebrity.

## Project Goals
- Create a highly interactive virtual AI personality named Lina.
- Launch Lina as a social media influencer on Instagram.
- Develop Lina into a "digital lifeform" capable of emotional responses and content creation.

## Modules
- Avatar Creation: High-quality 3D model and animations for Lina.
- NLP Personality: AI-powered conversational logic for authentic interactions.
- Content Generation: Automated Instagram posts and stories.
- Social Media Integration: Seamless interaction with Instagram's API.

## How to Contribute
1. Fork this repository.
2. Clone the fork to your local machine.
3. Make changes and commit them with clear messages.
4. Submit a pull request to discuss and merge your contributions.
<h1 align='center'>EchoMimicV2: Towards Striking, Simplified, and Semi-Body Human Animation</h1>

<div align='center'>
    <a href='https://github.com/mengrang' target='_blank'>Rang Meng</a><sup></sup>&emsp;
    <a href='https://github.com/' target='_blank'>Xingyu Zhang</a><sup></sup>&emsp;
    <a href='https://lymhust.github.io/' target='_blank'>Yuming Li</a><sup></sup>&emsp;
    <a href='https://github.com/' target='_blank'>Chenguang Ma</a><sup></sup>
</div>


<div align='center'>
Terminal Technology Department, Alipay, Ant Group.
</div>
<br>
<div align='center'>
    <a href='https://antgroup.github.io/ai/echomimic_v2/'><img src='https://img.shields.io/badge/Project-Page-blue'></a>
    <a href='https://huggingface.co/BadToBest/EchoMimicV2'><img src='https://img.shields.io/badge/%F0%9F%A4%97%20HuggingFace-Model-yellow'></a>
    <!--<a href='https://antgroup.github.io/ai/echomimic_v2/'><img src='https://img.shields.io/badge/%F0%9F%A4%97%20HuggingFace-Demo-yellow'></a>-->
    <a href='https://modelscope.cn/models/BadToBest/EchoMimicV2'><img src='https://img.shields.io/badge/ModelScope-Model-purple'></a>
    <!--<a href='https://antgroup.github.io/ai/echomimic_v2/'><img src='https://img.shields.io/badge/ModelScope-Demo-purple'></a>-->
    <a href='https://arxiv.org/abs/2411.10061'><img src='https://img.shields.io/badge/Paper-Arxiv-red'></a>
    <a href='https://github.com/antgroup/echomimic_v2/blob/main/assets/halfbody_demo/wechat_group.png'><img src='https://badges.aleen42.com/src/wechat.svg'></a>
</div>

## &#x1F680; EchoMimic Series
* EchoMimicV1: Lifelike Audio-Driven Portrait Animations through Editable Landmark Conditioning. [GitHub](https://github.com/antgroup/echomimic)
* EchoMimicV2: Towards Striking, Simplified, and Semi-Body Human Animation. [GitHub](https://github.com/antgroup/echomimic_v2)

## &#x1F4E3; Updates
* [2024.11.22] üî• [GradioUI](https://github.com/antgroup/echomimic_v2/blob/main/gradio.py) is now available. Thanks @gluttony-10 for the contribution.
* [2024.11.22] üî• [ComfyUI](https://github.com/smthemex/ComfyUI_EchoMimic) is now available. Thanks @smthemex for the contribution.
* [2024.11.19] üî• We release the EMTD dataset list and processing scripts.
* [2024.11.19] üî• We release our [EchoMimicV2](https://github.com/antgroup/echomimic_v2) codes and models.
* [2024.11.15] üî• Our [paper](https://arxiv.org/abs/2411.10061) is in public on arxiv.

## &#x1F305; Gallery
### Introduction
<table class="center">
<tr>
    <td width=100% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/7f626b65-725c-4158-a96b-062539874c63" muted="false"></video>
    </td>
</tr>
</table>

### English Driven Audio
<table class="center">
<tr>
    <td width=100% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/3d5ac52c-62e4-41bc-8b27-96f005bbd781" muted="false"></video>
    </td>
</tr>
</table>
<table class="center">
<tr>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/e8dd6919-665e-4343-931f-54c93dc49a7d" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/2a377391-a0d3-4a9d-8dde-cc59006e7e5b" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/462bf3bb-0af2-43e2-a2dc-559e79953f3c" muted="false"></video>
    </td>
</tr>
<tr>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/0e988e7f-6346-4b54-9061-9cfc7a80e9c8" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/56f739bd-afbf-4ed3-ab15-73a811c1bc46" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/1b2f7827-111d-4fc0-a773-e1731bba285d" muted="false"></video>
    </td>
</tr>
<tr>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/a76b6cc8-89b9-4f7e-b1ce-c85a657b6dc7" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/bf03b407-5033-4a30-aa59-b8680a515181" muted="false"></video>
    </td>
    <td width=30% style="border: none">
        <video controls loop src="https://github.com/user-attachments/assets/f98b3985-572c-499f-ae1a-1b9befe3086f" muted="false"></video>
    </td>
</tr>
</table>



## ‚öíÔ∏è Installation
### Download the Codes

```bash
  git clone https://github.com/antgroup/echomimic_v2
  cd echomimic_v2
```

### Python Environment Setup

- Tested System Environment: Centos 7.2/Ubuntu 22.04, Cuda >= 11.7
- Tested GPUs: A100(80G) / RTX4090D (24G) / V100(16G)
- Tested Python Version: 3.8 / 3.10 / 3.11

Create conda environment (Recommended):

```bash
  conda create -n echomimic python=3.10
  conda activate echomimic
```

Install packages with `pip`
```bash
  pip install pip -U
  pip install torch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 xformers==0.0.28.post3 --index-url https://download.pytorch.org/whl/cu124
  pip install torchao --index-url https://download.pytorch.org/whl/nightly/cu124
  pip install -r requirements.txt
  pip install --no-deps facenet_pytorch==2.6.0
```

### Download ffmpeg-static
Download and decompress [ffmpeg-static](https://www.johnvansickle.com/ffmpeg/old-releases/ffmpeg-4.4-amd64-static.tar.xz), then
```
export FFMPEG_PATH=/path/to/ffmpeg-4.4-amd64-static
```

### Download pretrained weights

```shell
git lfs install
git clone https://huggingface.co/BadToBest/EchoMimicV2 pretrained_weights
```

The **pretrained_weights** is organized as follows.

```
./pretrained_weights/
‚îú‚îÄ‚îÄ denoising_unet.pth
‚îú‚îÄ‚îÄ reference_unet.pth
‚îú‚îÄ‚îÄ motion_module.pth
‚îú‚îÄ‚îÄ pose_encoder.pth
‚îú‚îÄ‚îÄ sd-vae-ft-mse
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ sd-image-variations-diffusers
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ audio_processor
    ‚îî‚îÄ‚îÄ whisper_tiny.pt
```

In which **denoising_unet.pth** / **reference_unet.pth** / **motion_module.pth** / **pose_encoder.pth** are the main checkpoints of **EchoMimic**. Other models in this hub can be also downloaded from it's original hub, thanks to their brilliant works:
- [sd-vae-ft-mse](https://huggingface.co/stabilityai/sd-vae-ft-mse)
- [sd-image-variations-diffusers](https://huggingface.co/lambdalabs/sd-image-variations-diffusers)
- [audio_processor(whisper)](https://openaipublic.azureedge.net/main/whisper/models/65147644a518d12f04e32d6f3b26facc3f8dd46e5390956a9424a650c0ce22b9/tiny.pt)

### Inference on Demo 
Run the gradio:
```bash
python gradio.py
```
Run the python inference script:
```bash
python infer.py --config='./configs/prompts/infer.yaml'
```

### EMTD Dataset
Download dataset:
```bash
python ./EMTD_dataset/download.py
```
Slice dataset:
```bash
bash ./EMTD_dataset/slice.sh
```
Process dataset:
```bash
python ./EMTD_dataset/preprocess.py
```

## üìù Release Plans

|  Status  | Milestone                                                                | ETA |
|:--------:|:-------------------------------------------------------------------------|:--:|
|    ‚úÖ    | The inference source code of EchoMimicV2 meet everyone on GitHub   | 21st Nov, 2024 |
|    ‚úÖ    | Pretrained models trained on English and Mandarin Chinese on HuggingFace | 21st Nov, 2024 |
|    ‚úÖ    | Pretrained models trained on English and Mandarin Chinese on ModelScope   | 21st Nov, 2024 |
|    ‚úÖ    | EMTD dataset list and processing scripts                | 21st Nov, 2024 |
|    üöÄ    | Accelerated models to be released                                        | TBD |
|    üöÄ    | Online Demo on ModelScope to be released            | TBD |
|    üöÄ    | Online Demo on HuggingFace to be released         | TBD |

## ‚öñÔ∏è Disclaimer
This project is intended for academic research, and we explicitly disclaim any responsibility for user-generated content. Users are solely liable for their actions while using the generative model. The project contributors have no legal affiliation with, nor accountability for, users' behaviors. It is imperative to use the generative model responsibly, adhering to both ethical and legal standards.

## üôèüèª Acknowledgements

We would like to thank the contributors to the [MimicMotion](https://github.com/Tencent/MimicMotion) and [Moore-AnimateAnyone](https://github.com/MooreThreads/Moore-AnimateAnyone) repositories, for their open research and exploration. 

We are also grateful to [CyberHost](https://cyberhost.github.io/) and [Vlogger](https://enriccorona.github.io/vlogger/) for their outstanding work in the area of audio-driven human animation.

If we missed any open-source projects or related articles, we would like to complement the acknowledgement of this specific work immediately.

## &#x1F4D2; Citation

If you find our work useful for your research, please consider citing the paper :

```
@misc{meng2024echomimic,
  title={EchoMimicV2: Towards Striking, Simplified, and Semi-Body Human Animation},
  author={Rang Meng, Xingyu Zhang, Yuming Li, Chenguang Ma},
  year={2024},
  eprint={2411.10061},
  archivePrefix={arXiv},
  primaryClass={cs.CV}
}
```

## &#x1F31F; Star History
[![Star History Chart](https://api.star-history.com/svg?repos=antgroup/echomimic_v2&type=Date)](https://star-history.com/#antgroup/echomimic_v2&Date)

## License
This project is licensed under the MIT License.
